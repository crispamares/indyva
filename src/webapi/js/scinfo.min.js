(function(){function b(){return a}function d(b){b=b||{};var d=b.wsuri||"ws://"+window.location.hostname+":9000",e=when.defer(),f=e.resolver;return ab.connect(d,function(b){a=b,_.map(c,function(b){a.prefix(b.name,"http://scinfo.io/"+b.name+"#")}),console.log("Connected to "+d),f.resolve(a)},function(b,c){a=null,b==ab.CONNECTION_UNSUPPORTED?window.location="http://autobahn.ws/unsupportedbrowser":(alert(c),f.reject(b,c))}),e.promise}scinfo={version:"0.1.0"};var a=null;scinfo._session=b;var c=[];scinfo.connectServer=d;var e={name:"data_store",loadData:function(b){console.log("rpc"),a.call("data_store:load_data",b).then(function(a){console.log("ok, data loaded"),console.log(a)})}};c.push(e),scinfo.dataStore=e})();